<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Kunstmaan - SnippetJS</title>

    <link rel="stylesheet" href="./node_modules/highlight.js/styles/dracula.css">
    <link rel="stylesheet" href="./assets/css/docApp.css">
</head>
<body>

<div id="docApp" />

<script src="./node_modules/systemjs/dist/system.js"></script>
<script src="./systemJs.config.js"></script>
<script>
    function getUrlParam(paramKey) {
        var paramKeyRegex = new RegExp('[?&]' + paramKey + '(=([^&#]*)|&|#|$)');

        var keyValue = paramKeyRegex.exec(window.location.href);
        if (!keyValue) {
            return null
        };
        if (!keyValue[2]) {
            return '';
        }

        return decodeURIComponent(keyValue[2].replace(/\+/g, ' '));
    }

    function isLatestVersion(version) {
        if (version === null || version.length === 0) {
            return true;
        }

        if (version === 'latest') {
            return true;
        }

        return false;
    }

    var version = getUrlParam('v');

    var mainJsToImport = isLatestVersion(version) ? 'src/_docApp.js' : 'prev_versions/' + version + '/_docApp.js';

    SystemJS.import(mainJsToImport);
</script>

</body>
</html>